# Preview all emails at http://localhost:3000/rails/mailers/admin_notifier_mailer
class AdminNotifierMailerPreview < ActionMailer::Preview

  def send_new_user_mail
    AdminNotifierMailer.send_new_user_mail(Patient.find(4287))
  end

  def send_new_user_mail_with_insta
    AdminNotifierMailer.send_new_user_mail_with_insta(Patient.find(4287), 'instaking', 'WEKIJYPN')
  end

  def send_developer_error_email
    errors = {}
    errors[:error_msgs] = {}

    # simple_quiz_response  = Patient.new
    # simple_quiz_response.save
    # @errors = simple_quiz_response.errors.full_messages.unshift(simple_quiz_response.attributes.to_s)

    types = ['oily', 'dry']

    patient = Patient.new
    patient.save
    errors[:error_msgs]["SelfieForm#create could'nt create patient"] = patient.errors.full_messages.unshift(patient.attributes.to_s)

    types.sort!
    classes = {["dry", "oily", "oily", "oily", "oily"]=>"oily", ["combination", "oily", "oily", "oily", "oily"]=>"oily", ["oily", "oily", "oily", "oily", "sensitive"]=>"oily sensitive", ["normal", "oily", "oily", "oily", "oily"]=>"oily", ["dry", "dry", "oily", "oily", "oily"]=>"combination", ["combination", "dry", "oily", "oily", "oily"]=>"combination", ["dry", "oily", "oily", "oily", "sensitive"]=>"combination sensitive", ["dry", "normal", "oily", "oily", "oily"]=>"combination", ["combination", "combination", "oily", "oily", "oily"]=>"combination", ["combination", "oily", "oily", "oily", "sensitive"]=>"combination sensitive", ["combination", "normal", "oily", "oily", "oily"]=>"combination", ["oily", "oily", "oily", "sensitive", "sensitive"]=>"oily sensitive", ["normal", "oily", "oily", "oily", "sensitive"]=>"oily sensitive", ["normal", "normal", "oily", "oily", "oily"]=>"oily", ["dry", "dry", "dry", "oily", "oily"]=>"combination", ["combination", "dry", "dry", "oily", "oily"]=>"combination", ["dry", "dry", "oily", "oily", "sensitive"]=>"combination sensitive", ["dry", "dry", "normal", "oily", "oily"]=>"combination", ["combination", "combination", "dry", "oily", "oily"]=>"combination", ["combination", "dry", "oily", "oily", "sensitive"]=>"combination sensitive", ["combination", "dry", "normal", "oily", "oily"]=>"combination", ["dry", "oily", "oily", "sensitive", "sensitive"]=>"combination sensitive", ["dry", "normal", "oily", "oily", "sensitive"]=>"combination sensitive", ["dry", "normal", "normal", "oily", "oily"]=>"combination", ["combination", "combination", "combination", "oily", "oily"]=>"combination", ["combination", "combination", "oily", "oily", "sensitive"]=>"combination sensitive", ["combination", "combination", "normal", "oily", "oily"]=>"combination", ["combination", "oily", "oily", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "normal", "oily", "oily", "sensitive"]=>"combination sensitive", ["combination", "normal", "normal", "oily", "oily"]=>"combination", ["oily", "oily", "sensitive", "sensitive", "sensitive"]=>"oily sensitive", ["normal", "oily", "oily", "sensitive", "sensitive"]=>"oily sensitive", ["normal", "normal", "oily", "oily", "sensitive"]=>"oily sensitive", ["normal", "normal", "normal", "oily", "oily"]=>"normal to oily", ["dry", "dry", "dry", "dry", "oily"]=>"dry", ["combination", "dry", "dry", "dry", "oily"]=>"combination", ["dry", "dry", "dry", "oily", "sensitive"]=>"combination sensitive", ["dry", "dry", "dry", "normal", "oily"]=>"combination", ["combination", "combination", "dry", "dry", "oily"]=>"combination", ["combination", "dry", "dry", "oily", "sensitive"]=>"combination sensitive", ["combination", "dry", "dry", "normal", "oily"]=>"combination", ["dry", "dry", "oily", "sensitive", "sensitive"]=>"combination sensitive", ["dry", "dry", "normal", "oily", "sensitive"]=>"combination sensitive", ["dry", "dry", "normal", "normal", "oily"]=>"combination", ["combination", "combination", "combination", "dry", "oily"]=>"combination", ["combination", "combination", "dry", "oily", "sensitive"]=>"combination sensitive", ["combination", "combination", "dry", "normal", "oily"]=>"combination", ["combination", "dry", "oily", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "dry", "normal", "oily", "sensitive"]=>"combination sensitive", ["combination", "dry", "normal", "normal", "oily"]=>"combination", ["dry", "oily", "sensitive", "sensitive", "sensitive"]=>"combination sensitive", ["dry", "normal", "oily", "sensitive", "sensitive"]=>"combination sensitive", ["dry", "normal", "normal", "oily", "sensitive"]=>"combination sensitive", ["dry", "normal", "normal", "normal", "oily"]=>"combination", ["combination", "combination", "combination", "combination", "oily"]=>"combination", ["combination", "combination", "combination", "oily", "sensitive"]=>"combination sensitive", ["combination", "combination", "combination", "normal", "oily"]=>"combination", ["combination", "combination", "oily", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "combination", "normal", "oily", "sensitive"]=>"combination sensitive", ["combination", "combination", "normal", "normal", "oily"]=>"combination", ["combination", "oily", "sensitive", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "normal", "oily", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "normal", "normal", "oily", "sensitive"]=>"combination sensitive", ["combination", "normal", "normal", "normal", "oily"]=>"combination", ["oily", "sensitive", "sensitive", "sensitive", "sensitive"]=>"sensitive", ["normal", "oily", "sensitive", "sensitive", "sensitive"]=>"sensitive", ["normal", "normal", "oily", "sensitive", "sensitive"]=>"sensitive", ["normal", "normal", "normal", "oily", "sensitive"]=>"sensitive", ["normal", "normal", "normal", "normal", "oily"]=>"normal", ["dry", "dry", "dry", "dry", "dry"]=>"dry", ["combination", "dry", "dry", "dry", "dry"]=>"dry", ["dry", "dry", "dry", "dry", "sensitive"]=>"dry sensitive", ["dry", "dry", "dry", "dry", "normal"]=>"dry", ["combination", "combination", "dry", "dry", "dry"]=>"combination", ["combination", "dry", "dry", "dry", "sensitive"]=>"combination sensitive", ["combination", "dry", "dry", "dry", "normal"]=>"combination", ["dry", "dry", "dry", "sensitive", "sensitive"]=>"dry sensitive", ["dry", "dry", "dry", "normal", "sensitive"]=>"dry sensitive", ["dry", "dry", "dry", "normal", "normal"]=>"dry", ["combination", "combination", "combination", "dry", "dry"]=>"combination", ["combination", "combination", "dry", "dry", "sensitive"]=>"combination sensitive", ["combination", "combination", "dry", "dry", "normal"]=>"combination", ["combination", "dry", "dry", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "dry", "dry", "normal", "sensitive"]=>"combination sensitive", ["combination", "dry", "dry", "normal", "normal"]=>"combination", ["dry", "dry", "sensitive", "sensitive", "sensitive"]=>"dry sensitive", ["dry", "dry", "normal", "sensitive", "sensitive"]=>"dry sensitive", ["dry", "dry", "normal", "normal", "sensitive"]=>"dry sensitive", ["dry", "dry", "normal", "normal", "normal"]=>"normal to dry", ["combination", "combination", "combination", "combination", "dry"]=>"combination", ["combination", "combination", "combination", "dry", "sensitive"]=>"combination sensitive", ["combination", "combination", "combination", "dry", "normal"]=>"combination", ["combination", "combination", "dry", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "combination", "dry", "normal", "sensitive"]=>"combination sensitive", ["combination", "combination", "dry", "normal", "normal"]=>"combination", ["combination", "dry", "sensitive", "sensitive", "sensitive"]=>"dry sensitive", ["combination", "dry", "normal", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "dry", "normal", "normal", "sensitive"]=>"combination sensitive", ["combination", "dry", "normal", "normal", "normal"]=>"combination", ["dry", "sensitive", "sensitive", "sensitive", "sensitive"]=>"sensitive", ["dry", "normal", "sensitive", "sensitive", "sensitive"]=>"sensitive", ["dry", "normal", "normal", "sensitive", "sensitive"]=>"sensitive", ["dry", "normal", "normal", "normal", "sensitive"]=>"sensitive", ["dry", "normal", "normal", "normal", "normal"]=>"normal", ["combination", "combination", "combination", "combination", "combination"]=>"combination", ["combination", "combination", "combination", "combination", "sensitive"]=>"combination sensitive", ["combination", "combination", "combination", "combination", "normal"]=>"combination", ["combination", "combination", "combination", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "combination", "combination", "normal", "sensitive"]=>"combination sensitive", ["combination", "combination", "combination", "normal", "normal"]=>"combination", ["combination", "combination", "sensitive", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "combination", "normal", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "combination", "normal", "normal", "sensitive"]=>"combination sensitive", ["combination", "combination", "normal", "normal", "normal"]=>"combination", ["combination", "sensitive", "sensitive", "sensitive", "sensitive"]=>"sensitive", ["combination", "normal", "sensitive", "sensitive", "sensitive"]=>"sensitive", ["combination", "normal", "normal", "sensitive", "sensitive"]=>"combination sensitive", ["combination", "normal", "normal", "normal", "sensitive"]=>"combination sensitive", ["combination", "normal", "normal", "normal", "normal"]=>"normal", ["sensitive", "sensitive", "sensitive", "sensitive", "sensitive"]=>"sensitive", ["normal", "sensitive", "sensitive", "sensitive", "sensitive"]=>"sensitive", ["normal", "normal", "sensitive", "sensitive", "sensitive"]=>"sensitive", ["normal", "normal", "normal", "sensitive", "sensitive"]=>"sensitive", ["normal", "normal", "normal", "normal", "sensitive"]=>"normal", ["normal", "normal", "normal", "normal", "normal"]=>"normal"}

    unless classes[types].nil?
      diagnosis = Diagnosis.find_by(sub_category: classes[types], category: "skin type quiz")
      unless simple_quiz_response.save
        errors[:error_msgs]["SimpleQuizResponse save failed"] = simple_quiz_response.errors.full_messages.unshift(simple_quiz_response.attributes.to_s)
      end
    else
      errors[:error_msgs]["Skin type not found: "] = [types.to_s]
    end



    @subject = "Remedico: SimpleForm"

    AdminNotifierMailer.send_developer_error_email(@subject, errors[:error_msgs])
  end

end
